<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Chronicles: The Story Weaver</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to right, #2c3e50, #3498db);
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            overflow: hidden;
        }

        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
        * {
            transition: all 0.3s ease;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Å —ç–º–æ–¥–∑–∏ –Ω–∞ —Ñ–æ–Ω–µ */
        .emoji-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .emoji {
            position: absolute;
            font-size: 40px;
            animation: float 10s infinite;
            opacity: 0.8;
        }

        @keyframes float {
            0% {
                transform: translateY(0);
                opacity: 0.8;
            }
            50% {
                transform: translateY(-20px);
                opacity: 1;
            }
            100% {
                transform: translateY(0);
                opacity: 0.8;
            }
        }

        #code-entry {
            background-color: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 400px;
            text-align: center;
            z-index: 1;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeIn 1s forwards;
        }

        h2 {
            font-size: 28px;
            margin-bottom: 20px;
            color: #FFD700;
        }

        input[type="password"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            box-sizing: border-box;
            background-color: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        input[type="password"]:focus {
            background-color: rgba(255, 255, 255, 0.3);
            outline: none;
        }

        button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background-color: #FFD700;
            color: black;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background-color: #FFC700;
        }

        #error-message {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            opacity: 0;
            transform: translateY(-10px);
            animation: fadeIn 0.5s forwards;
        }

        #story-creator {
            display: none;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 600px;
            text-align: center;
            margin-top: 20px;
            z-index: 1;
            opacity: 0;
            transform: translateY(-20px);
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            box-sizing: border-box;
            background-color: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        input[type="text"]:focus {
            background-color: rgba(255, 255, 255, 0.3);
            outline: none;
        }

        #story-output {
            margin-top: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #ccc;
            max-height: 600px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-size: 16px;
            text-align: left;
            line-height: 1.8;
            position: relative;
            color: #ffffff;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeIn 1s forwards 0.5s;
        }

        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }

        .copy-button:hover {
            background-color: #1976D2;
        }

        .speak-button {
            position: absolute;
            top: 10px;
            right: 100px;
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }

        .speak-button:hover {
            background-color: #45A049;
        }

        .footer {
            margin-top: 20px;
            color: #ffffff;
            font-size: 14px;
            text-align: center;
            z-index: 1;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeIn 1s forwards 0.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>

    <div class="emoji-bg">
        <span class="emoji" style="left: 10%; top: 20%; animation-duration: 15s;">üòà</span>
        <span class="emoji" style="left: 20%; top: 40%; animation-duration: 12s;">üëª</span>
        <span class="emoji" style="left: 70%; top: 10%; animation-duration: 18s;">üíÄ</span>
        <span class="emoji" style="left: 60%; top: 50%; animation-duration: 20s;">üéÉ</span>
        <span class="emoji" style="left: 30%; top: 80%; animation-duration: 22s;">üëπ</span>
    </div>

    <div id="code-entry">
        <h2>–í–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥</h2>
        <input type="password" id="secret-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥">
        <button onclick="checkCode()">–í–æ–π—Ç–∏</button>
        <p id="error-message"></p>
    </div>

    <div id="story-creator">
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ò—Å—Ç–æ—Ä–∏–∏</h2>
        <form id="story-form" onsubmit="generateStory(event)">
            <input type="text" id="character-name" name="character-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞" required>
            <button type="submit">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
            <p id="info-message" style="display: none;">–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...</p>
        </form>
        <div id="story-output">
            <button class="copy-button" onclick="copyStory()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="speak-button" onclick="speakStory()">–û–∑–≤—É—á–∏—Ç—å</button>
        </div>
    </div>

    <div class="footer">
        <p>&copy; 2024 Dark Chronicles. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>

    <script>
        const secretCode = "2914";
        let isGenerating = false;

        function checkCode() {
            const inputCode = document.getElementById("secret-code-input").value;
            const errorMessage = document.getElementById("error-message");

            if (inputCode === secretCode) {
                document.getElementById("code-entry").style.animation = "fadeOut 0.5s forwards";
                setTimeout(() => {
                    document.getElementById("code-entry").style.display = "none";
                    document.getElementById("story-creator").style.display = "block";
                    document.getElementById("story-creator").style.animation = "fadeIn 0.5s forwards";
                }, 500);
            } else {
                errorMessage.textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
                errorMessage.style.opacity = "1";
                errorMessage.style.transform = "translateY(0)";
            }
        }

        function generateStory(event) {
            event.preventDefault();

            const characterName = document.getElementById("character-name").value.trim();
            const storyOutput = document.getElementById("story-output");
            const infoMessage = document.getElementById("info-message");

            if (isGenerating) {
                infoMessage.textContent = "–ù–µ–ª—å–∑—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –∏—Å—Ç–æ—Ä–∏—è.";
                infoMessage.style.display = "block";
                return;
            }

            if (characterName === "") {
                alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.");
                return;
            }

            isGenerating = true;
            infoMessage.style.display = "block";
            infoMessage.textContent = "–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...";
            storyOutput.textContent = ""; // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞
            let index = 0;

            const stories = [
                `–ò—Å—Ç–æ—Ä–∏—è 1: ${characterName} –∂–∏–ª –≤ –æ—Ç–¥–∞–ª–µ–Ω–Ω–æ–π –¥–µ—Ä–µ–≤–Ω–µ, –æ–∫—Ä—É–∂–µ–Ω–Ω–æ–π –º—Ä–∞—á–Ω—ã–º –ª–µ—Å–æ–º. –û–¥–Ω–∞–∂–¥—ã –Ω–æ—á—å—é, –∫–æ–≥–¥–∞ –ª—É–Ω–∞ –±—ã–ª–∞ –ø–æ–ª–Ω–æ–π, –æ–Ω —É—Å–ª—ã—à–∞–ª —Å—Ç—Ä–∞–Ω–Ω—ã–π –∑–≤—É–∫ –∑–∞ –æ–∫–Ω–æ–º. –≠—Ç–æ –±—ã–ª–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Å–∫—Ä–µ–∂–µ—Ç –º–µ—Ç–∞–ª–ª–∞ –ø–æ —Å—Ç–µ–∫–ª—É. ${characterName} –ø–æ–¥–æ—à–µ–ª –∫ –æ–∫–Ω—É –∏ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞—Ä—É–∂—É. –í —Ç–µ–º–Ω–æ—Ç–µ –æ–Ω —É–≤–∏–¥–µ–ª —Å–∏–ª—É—ç—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–≤–∏–≥–∞–ª—Å—è –≤–¥–æ–ª—å –∫—Ä–∞—è –ª–µ—Å–∞. –†–µ—à–∏–≤ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –æ–Ω –Ω–∞–∫–∏–Ω—É–ª –ø–∞–ª—å—Ç–æ –∏ –≤—ã—à–µ–ª –∏–∑ –¥–æ–º–∞. –° –∫–∞–∂–¥—ã–º —à–∞–≥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –¥–µ–ª–∞–ª –∫ –ª–µ—Å—É, —Å–∫—Ä–µ–∂–µ—Ç —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –≤—Å–µ –≥—Ä–æ–º—á–µ. –ö–æ–≥–¥–∞ –æ–Ω –ø–æ–¥–æ—à–µ–ª –∫ –æ–ø—É—à–∫–µ, –∑–≤—É–∫ –ø—Ä–µ–∫—Ä–∞—Ç–∏–ª—Å—è. –í–Ω–µ–∑–∞–ø–Ω–æ –æ–Ω –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª, –∫–∞–∫ —Ö–æ–ª–æ–¥–Ω—ã–π –≤–µ—Ç–µ—Ä —É–¥–∞—Ä–∏–ª –µ–º—É –≤ –ª–∏—Ü–æ, –∞ –∑–∞ —Å–ø–∏–Ω–æ–π —Ä–∞–∑–¥–∞–ª—Å—è –≥—Ä–æ–º–∫–∏–π —Ç—Ä–µ—Å–∫. ${characterName} –æ–±–µ—Ä–Ω—É–ª—Å—è –∏ —É–≤–∏–¥–µ–ª, –∫–∞–∫ –¥–µ—Ä–µ–≤—å—è –Ω–∞—á–∞–ª–∏ —Å–º—ã–∫–∞—Ç—å—Å—è, —Å–ª–æ–≤–Ω–æ –ø—ã—Ç–∞—è—Å—å —É–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ. –ù–µ —Ä–∞–∑–¥—É–º—ã–≤–∞—è, –æ–Ω —Ä–≤–∞–Ω—É–ª –æ–±—Ä–∞—Ç–Ω–æ –∫ —Å–≤–æ–µ–º—É –¥–æ–º—É, –Ω–æ –ø—É—Ç—å –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω...`,
                `–ò—Å—Ç–æ—Ä–∏—è 2: ${characterName} –±—ã–ª —Å—Ç–∞—Ä—ã–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–µ–º, —á—å–∏ —Ä—É–∫–∏ —Ç—Ä—è—Å–ª–∏—Å—å –æ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞, –Ω–æ –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–ª —É–ø–æ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–≤–æ–µ–π –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. –û–¥–Ω–∞–∂–¥—ã, –∫–æ–≥–¥–∞ –æ–Ω –∑–∞–∫—Ä—ã–≤–∞–ª –æ—á–µ—Ä–µ–¥–Ω—É—é –∫–Ω–∏–≥—É, –≤ –¥–∞–ª—å–Ω–µ–º —É–≥–ª—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ—Å–ª—ã—à–∞–ª—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–π —à—É–º. –û–Ω –ø–æ–¥–æ—à–µ–ª –±–ª–∏–∂–µ –∏ —É–≤–∏–¥–µ–ª, –∫–∞–∫ –æ–¥–Ω–∞ –∏–∑ –ø–æ–ª–æ–∫ –Ω–∞—á–∞–ª–∞ –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω—è—Ç—å—Å—è, –æ—Ç–∫—Ä—ã–≤–∞—è –ø–æ—Ç–∞–π–Ω—É—é –¥–≤–µ—Ä—å. –í–Ω—É—Ç—Ä–∏ –±—ã–ª–∞ –∫–æ–º–Ω–∞—Ç–∞, –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ä—ã—Ö –∫–Ω–∏–≥, –æ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ª—ã—à–∞–ª. –í —Ü–µ–Ω—Ç—Ä–µ –∫–æ–º–Ω–∞—Ç—ã –ª–µ–∂–∞–ª–∞ –±–æ–ª—å—à–∞—è –∫–Ω–∏–≥–∞ —Å –Ω–∞–¥–ø–∏—Å—å—é "–ò—Å—Ç–æ—Ä–∏—è –±–µ–∑ –∫–æ–Ω—Ü–∞". ${characterName} –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–ª –µ—ë –∏ –Ω–∞—á–∞–ª —á–∏—Ç–∞—Ç—å. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–∏—Å—ã–≤–∞–ª–∞ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ –µ–≥–æ –∂–∏–∑–Ω–∏. –°—Ç—Ä–∞–Ω–∏—Ü—ã –ª–∏—Å—Ç–∞–ª–∏—Å—å —Å–∞–º–∏, –∏ –≤—Å–∫–æ—Ä–µ –æ–Ω –ø–æ–Ω—è–ª, —á—Ç–æ –∫–Ω–∏–≥–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –±—É–¥—É—â–µ–µ. –ù–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–Ω–µ–∑–∞–ø–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å, –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –≥–ª–∞–≤–∞ –≥–ª–∞—Å–∏–ª–∞: "–ö–æ–Ω–µ—Ü –±–ª–∏–∑–æ–∫. –¢—ã –Ω–µ –º–æ–∂–µ—à—å –∏–∑–±–µ–∂–∞—Ç—å —Å–≤–æ–µ–π —Å—É–¥—å–±—ã". ${characterName} —É—Å–ª—ã—à–∞–ª —à–∞–≥–∏ –∑–∞ —Å–≤–æ–µ–π —Å–ø–∏–Ω–æ–π –∏, –æ–±–µ—Ä–Ω—É–≤—à–∏—Å—å, —É–≤–∏–¥–µ–ª —Ç–µ–Ω—å, –∫–æ—Ç–æ—Ä–∞—è –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–±–ª–∏–∂–∞–ª–∞—Å—å –∫ –Ω–µ–º—É. –û–Ω –∑–∞–∫—Ä—ã–ª –∫–Ω–∏–≥—É –∏ –±—Ä–æ—Å–∏–ª—Å—è –±–µ–∂–∞—Ç—å, –Ω–æ –≤—Å–µ –¥–≤–µ—Ä–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞—Ö–ª–æ–ø–Ω—É–ª–∏—Å—å, –æ—Å—Ç–∞–≤–ª—è—è –µ–≥–æ –Ω–∞–µ–¥–∏–Ω–µ —Å —Ç–µ–º, —á—Ç–æ —Å–∫—Ä—ã–≤–∞–ª–æ—Å—å –≤ —Ç–µ–Ω–∏.`,
                // –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 27 –∏—Å—Ç–æ—Ä–∏–π.
            ];

            const randomIndex = Math.floor(Math.random() * stories.length);
            const selectedStory = stories[randomIndex];

            function typeWriter() {
                if (index < selectedStory.length) {
                    storyOutput.textContent += selectedStory.charAt(index);
                    index++;
                    setTimeout(typeWriter, 50); // –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏ —Ç–µ–∫—Å—Ç–∞
                } else {
                    isGenerating = false;
                    infoMessage.style.display = "none";
                }
            }

            storyOutput.style.opacity = "0";
            storyOutput.style.transform = "translateY(-20px)";
            setTimeout(() => {
                typeWriter(); // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—á–∞—Ç–∏ —Ç–µ–∫—Å—Ç–∞
                storyOutput.style.opacity = "1";
                storyOutput.style.transform = "translateY(0)";
            }, 100);
        }

        function copyStory() {
            const storyText = document.getElementById("story-output").textContent;
            navigator.clipboard.writeText(storyText).then(() => {
                alert("–ò—Å—Ç–æ—Ä–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!");
            });
        }

        function speakStory() {
            const storyText = document.getElementById("story-output").textContent;
            const utterance = new SpeechSynthesisUtterance(storyText);
            utterance.lang = 'ru-RU'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
            speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>
